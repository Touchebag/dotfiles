#
# ~/.zshrc

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

# Vim mode
set -o vi

# Avoid successive duplicate commands in history
setopt HIST_IGNORE_DUPS

# Completion magic
autoload -Uz compinit
compinit

# Glob magic
setopt extendedglob

# Vim auto-completion rules
zstyle ':completion:*:*:vim:*' \
ignored-patterns '*.aux' '*.log' '*.pdf' '*.fdb_latexmk' '*.fls' '*.toc'\
  '*.bcf' '*.blg' '*.run.xml' '*.bbl' \
  '*.hi' '*.o' '*.dyn_hi' '*.dyn_o'

# Aliases {{{

# Feel good alias for sudo
alias fucking='sudo'

# Dir listings
alias ls='ls --color=auto'
alias la='ls -A'
alias ll='ls -lA'

# Ease of use
alias cd..='cd ..'
alias y='yaourt'

# Git
alias g='git'
alias ga='git add'
alias gca='git commit -a'
alias gc='git commit'
alias gch='git checkout'
alias gd='git diff'
alias gf='git fetch'
alias gph='git push'
alias gpl='git pull'
alias gr='git rebase'
alias grc='git rebase --continue'
alias gs='git status'

#}}}

# For 'fuck' script to work
eval $(thefuck --alias)

# Displays vi mode in prompt
function zle-line-init zle-keymap-select {
    PROMPT="[%2~] ${${KEYMAP/vicmd/--NORMAL--}/(main|viins)/--INSERT--}
 >> "
    case $KEYMAP in
      vicmd) echo -e -n "\x1b[\x32 q" ;;
      main|viins) echo -e -n "\x1b[\x36 q" ;;
    esac
    zle reset-prompt
}
zle -N zle-line-init
zle -N zle-keymap-select

# Automatically run ls after cd
function chpwd() {
  emulate -L zsh
  ls -A
}

